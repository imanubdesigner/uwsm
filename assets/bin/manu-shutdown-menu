#!/usr/bin/env bash

menu() {
  local prompt="$1"
  local options="$2"
  echo -e "$options" | manu-launch-walker --dmenu --width 295 --minheight 1 --maxheight 400 -p "$prompt…" 2>/dev/null
}

show_shutdown_menu() {
  case $(menu "󰍹  System" \
    "  󰌾  Lock\n  󰒲  Suspend\n    Relaunch\n  󰜉  Restart\n    Shutdown") in

  *Lock*) manu-lock-screen ;;
  *Suspend*) systemctl suspend ;;
  *Relaunch*) uwsm stop ;;
  *Restart*) manu-state clear re*-required && systemctl reboot ;;
  *Shutdown*) manu-state clear re*-required && systemctl poweroff ;;
  *) exit 0 ;;
  esac
}

show_shutdown_menu
