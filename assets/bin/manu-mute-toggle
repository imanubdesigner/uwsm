#!/bin/bash

#    ┏┳┓┏┓┏┓┏┓┓ ┏┓  ┳┳┓┳┳┏┳┓┏┓
#     ┃ ┃┃┃┓┃┓┃ ┣   ┃┃┃┃┃ ┃ ┣
#     ┻ ┗┛┗┛┗┛┗┛┗┛  ┛ ┗┗┛ ┻ ┗┛
#          ┏┓┏┓┳┓┳┏┓┏┳┓
#          ┗┓┃ ┣┫┃┃┃ ┃
#          ┗┛┗┛┛┗┻┣┛ ┻
#                      By manu

# Toggle the volume mute state
pamixer -t

# Check the new mute state
if pamixer --get-mute | grep -q true; then
  # If now muted, send a "Muted" notification
  notify-send -h string:x-dunst-stack-tag:volume "Volume" "  Muted"
else
  # If now unmuted, send a notification with the volume progress bar
  notify-send -h string:x-dunst-stack-tag:volume -h int:value:$(pamixer --get-volume) " Volume" "$(pamixer --get-volume)%"
fi
